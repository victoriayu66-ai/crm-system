# 客户管理系统 (CRM System)

一个功能完善、界面现代化的客户关系管理系统，包含用户认证、角色权限、客户管理、商机跟踪、交互记录和数据分析等核心功能。

## ✨ 核心功能

### 0. 用户认证与权限管理 ⭐ 新增
- 🔐 用户注册与登录
  - 邮箱作为账号
  - 密码验证
  - 自动保持登录状态
- 👥 角色管理
  - **管理员角色**：可以查看和管理所有客户数据
  - **普通用户角色**：只能查看和管理自己创建的客户
- 🛡️ 权限控制
  - 普通用户添加客户时自动查重（邮箱和电话）
  - 普通用户只能看到自己的客户数据和统计
  - 管理员可以查看全局数据和所有客户
- 🔄 默认账号
  - 邮箱：admin@fengfancloud.com
  - 密码：admin123
  - 角色：管理员
- 📧 企业邮箱限制
  - 仅支持 @fengfancloud.com 企业邮箱注册和登录
  - 其他邮箱无法使用系统

### 1. 数据概览
- 📊 实时统计展示
  - 总客户数
  - 活跃客户数
  - 本月交互次数
  - 总成交额
- 📈 可视化图表
  - 客户增长趋势图（折线图）
  - 客户来源分布图（饼图）
- 🎯 数字动画效果

### 2. 客户管理
- ✅ 完整的客户信息管理
  - 客户姓名、公司名称
  - 联系邮箱、电话
  - **销售负责人**（支持多人跟进，逗号或顿号分隔）
  - **感兴趣的产品**（支持多个产品，逗号分隔）
  - 客户来源（网站/推荐/广告/展会）
  - 客户状态（活跃/潜在/休眠）
  - 备注信息
- 🔍 智能搜索与筛选
  - 实时搜索客户姓名、公司
  - 按状态筛选
  - 按来源筛选
- 📝 增删改查操作
  - 添加新客户（普通用户自动查重）
  - 编辑客户信息
  - 删除客户记录
- 🎯 可视化展示
  - 产品标签展示客户感兴趣的产品
  - 销售负责人标签展示跟进团队
  - 支持多个产品和多个负责人同时显示
- 🔒 权限控制
  - 普通用户只能查看自己创建的客户
  - 普通用户添加客户时检查邮箱和电话是否重复
  - 管理员可以查看所有客户，无查重限制

### 3. 商机管理 ⭐
- 💼 完整的商机信息
  - 客户姓名、公司名称
  - 联系邮箱、电话
  - 产品名称
  - **产品报价**（原始价格）
  - **折扣比例**（支持0-100%）
  - **合同金额**（根据报价和折扣自动计算）
  - 交付状态（已交付/未交付）
  - 交付周期（天数）
  - 回款周期（天数）
  - 备注信息
- 📊 商机统计
  - 总商机数
  - 进行中商机
  - 已交付商机
  - 商机总额
- 🔍 智能筛选
  - 搜索客户、公司、产品
  - 按交付状态筛选
  - 按产品类型筛选
- 📈 商机跟踪
  - 实时更新商机状态
  - 交付周期管理
  - 回款周期管理
- 💰 价格管理
  - 自动计算折扣后价格
  - 显示优惠金额
  - 直观的折扣标签展示

### 4. 交互记录
- 📞 多种交互类型
  - 电话沟通
  - 邮件往来
  - 会议
  - 上门拜访
- 📝 详细记录内容
  - 关联客户信息
  - 交互时间
  - 交互内容
- 🕒 时间线展示
- 🗑️ 记录管理（添加/删除）

### 5. 数据分析
- 📊 客户状态分布图（饼图）
- 📈 月度交互趋势图（柱状图）
- 🎯 数据可视化洞察

## 🎨 设计特色

### 视觉设计
- 🌟 毛玻璃效果（Glass Morphism）
- 🎨 渐变色彩搭配
- ✨ 流畅的动画过渡
- 📱 响应式布局设计

### 交互体验
- 🖱️ 悬停动效
- 🎭 平滑页面切换
- 💫 优雅的模态框动画
- 🎯 直观的操作反馈

### 技术特性
- 📊 ECharts 数据可视化
- 💾 LocalStorage 本地存储
- 🔄 实时数据更新
- 📐 自适应窗口大小

## 🚀 使用方法

### 快速开始
1. 直接在浏览器中打开 `index.html` 文件
2. 使用默认管理员账号登录：
   - 邮箱：admin@fengfancloud.com
   - 密码：admin123
3. 或者使用公司企业邮箱注册新账号（默认为普通用户角色）
4. 开始管理您的客户和商机！

### 用户注册与登录
1. **注册新账号**
   - 点击"立即注册"
   - 填写姓名、企业邮箱（必须是 @fengfancloud.com）和密码（至少6位）
   - 新注册用户默认为普通角色
   - 非企业邮箱将无法注册
   - 如需管理员权限，请联系系统管理员

2. **登录系统**
   - 输入邮箱和密码
   - 点击"登录"按钮
   - 系统会自动保存登录状态

3. **角色说明**
   - **管理员**：可以查看所有客户数据，添加客户无查重限制
   - **普通用户**：只能查看和管理自己创建的客户，添加客户时自动查重

### 基本操作

#### 客户管理
1. 点击"客户列表"进入客户管理页面
2. 点击"添加客户"按钮创建新客户
3. 填写客户信息：
   - 基本信息（姓名、公司、联系方式）
   - **销售负责人**（可填写多个负责人，用逗号或顿号分隔，例如：王经理、李主管、张总监）
   - **感兴趣的产品**（可填写多个产品，用逗号分隔，例如：企业管理软件，CRM系统，数据分析平台）
   - 客户来源和状态
   - 备注信息
4. **普通用户注意**：
   - 添加客户时系统会自动检查邮箱和电话是否重复
   - 如果客户已存在，将无法添加
   - 只能查看和管理自己创建的客户
5. **管理员权限**：
   - 可以查看所有用户创建的客户
   - 添加客户时无查重限制
6. 使用搜索框和筛选器快速查找客户
7. 点击编辑/删除按钮管理现有客户
8. 在列表中可以看到：
   - 销售负责人以绿色标签展示（带人员图标）
   - 每个客户感兴趣的产品以蓝色标签展示
   - 支持多人协同跟进同一客户

#### 商机管理
1. 点击"商机管理"进入商机页面
2. 点击"添加商机"按钮创建新商机
3. 填写完整的商机信息：
   - 客户基本信息（姓名、公司、联系方式）
   - 产品信息
   - **产品报价**（原始价格）
   - **折扣比例**（0-100%，0表示无折扣，10表示9折，20表示8折）
   - **合同金额**（系统根据报价和折扣自动计算）
   - 交付周期和回款周期
   - 交付状态
4. 使用筛选功能查看不同状态的商机
5. 实时跟踪商机进展
6. 在列表中可以看到：
   - 产品报价（原价）
   - 折扣标签（红色高亮显示）
   - 合同金额（最终价格）
   - 优惠金额（自动计算节省的金额）

#### 交互记录
1. 点击"交互记录"进入记录页面
2. 点击"添加记录"按钮
3. 选择客户、交互类型并填写内容
4. 查看完整的交互历史

#### 数据分析
1. 点击"数据概览"查看整体统计
2. 点击"数据分析"查看详细图表
3. 通过可视化图表了解业务趋势

## 💾 数据存储

- 所有数据自动保存在浏览器的 LocalStorage 中
- 刷新页面后数据不会丢失
- 支持数据的增删改查操作
- 清除浏览器缓存会删除所有数据

## 📋 示例数据

系统内置了以下示例数据：

### 客户数据
- 5 个示例客户
- 包含不同状态和来源
- 完整的联系信息
- **每个客户都分配了销售负责人**
- **每个客户都有感兴趣的产品标签**

### 商机数据
- 4 个示例商机
- 不同的产品类型
- **包含产品报价和折扣信息**
- 不同的交付状态
- 真实的金额和周期数据

### 交互记录
- 4 条交互历史
- 涵盖各种交互类型
- 关联到具体客户

## 🛠️ 技术栈

- **HTML5** - 页面结构
- **TailwindCSS** - 样式框架
- **JavaScript (ES6+)** - 业务逻辑
- **ECharts** - 数据可视化
- **Font Awesome** - 图标库
- **Google Fonts** - 字体支持

## 📱 浏览器支持

- ✅ Chrome (推荐)
- ✅ Firefox
- ✅ Safari
- ✅ Edge
- ⚠️ IE 不支持

## 📝 注意事项

1. **数据安全**
   - 数据仅存储在本地浏览器中
   - 不涉及服务器传输
   - 建议定期备份重要数据
   - 密码以明文存储在本地，请勿使用真实重要密码

2. **权限说明**
   - 新注册用户默认为普通角色
   - 普通用户只能查看自己创建的客户
   - 普通用户添加客户时会自动查重（邮箱和电话）
   - 如需管理员权限，请使用默认管理员账号或联系系统管理员

3. **最佳实践**
   - 及时更新客户信息
   - 定期记录交互历史
   - 实时跟踪商机状态
   - 合理设置交付和回款周期
   - 普通用户添加客户前请确认客户信息准确，避免重复

4. **性能优化**
   - 大量数据时可能影响性能
   - 建议定期清理无用数据
   - 保持数据整洁有序

## 🎯 商机管理最佳实践

1. **信息完整性**
   - 确保填写完整的客户联系信息
   - 明确产品名称和合同金额
   - 设置合理的交付和回款周期

2. **状态跟踪**
   - 及时更新交付状态
   - 关注进行中的商机
   - 定期回顾已交付商机

3. **价格管理**
   - 准确填写产品报价
   - 合理设置折扣比例
   - 系统自动计算最终合同金额
   - 清晰展示优惠金额

4. **数据分析**
   - 查看商机统计了解业务状况
   - 分析不同产品的成交情况
   - 优化交付和回款流程

## 📄 许可证

本项目仅供学习和演示使用。

## 🤝 反馈与建议

如有任何问题或建议，欢迎反馈！

---

**开发时间**: 2026-02-02  
**更新时间**: 2026-02-12  
**版本**: v2.0.0  
**作者**: SuperMagic

**v2.0.0 更新内容**:
- ✅ 新增用户注册和登录功能
- ✅ 新增角色权限管理（管理员/普通用户）
- ✅ 限制仅支持企业邮箱（@fengfancloud.com）注册和登录
- ✅ 普通用户添加客户自动查重功能
- ✅ 数据权限隔离，普通用户只能查看自己的客户
- ✅ 管理员可查看全局数据
